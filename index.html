<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Paving of America</title>
    <!-- Thanks to this great tutorial: http://data-map-d3.readthedocs.io/en/latest/index.html -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" rel="stylesheet" type="text/css">
    <link href="styles.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Libre+Franklin" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script>
    window.onload = function() {
        pavedPct();
    };

    function showMap() {
        var mapOne = document.getElementById("map-container-1");
        var mapTwo = document.getElementById("map-container-2");

        mapOne.style.display = (
            mapOne.style.display == "none" ? "block" : "none");
        mapTwo.style.display = (
            mapTwo.style.display == "none" ? "block" : "none");
    }
    </script>
    <style>
    button {
        margin-top: 1rem;
    }
    .map-title {
        border: 1px solid #bbb;
        padding: 5px;
        text-align: center;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
    }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <h1 class="twleve columns" id="map-title">The Paving of America</h1>
        </div>
        <div id="map-container-1">
            <div class="row" id="map"></div>
            <div class="row map-title">Percentage change in a municipality's paved area between 1974 and 2012</div>
        </div>
        <div id="map-container-2" style="display:none">
            <div class="row" id="map-2"></div>
            <div class="row map-title">Square miles of a municipality's area that were paved in 2012</div>
        </div>
        <button onclick="showMap()">Toggle maps</button>
        <div id="details" class="hidden row"></div>
        <div class="row" id="initial">
            <div class="twelve columns">
                <p>The map shows the footprint of more than 3,500 municipalities in the United States. There are two different views: The first colors the municipalities based on the change in area that has been paved between 1974 and 2012; the second is colored by the percentage of the municipality's area that is pavement. Use the button to toggle between the maps. <em>Hover over a municipality to see its name; click it to see the data. Use mouse/fingers to "grab" and zoom map.</em></p>
            </div>
           <!--  <div class="seven columns">
                <h5 style="text-align: center;">Instructions</h5>
                <ul>
                    <li>Click a state for details about its marijuana laws</li>
                    <li>Double-click to zoom in on small areas, such as Washington, DC; shift + double-click to zoom out. "Grab" map to move it.</li>
                </ul>
            </div> -->
        </div>
        <div class="row footer">
            <strong>Data source</strong>: <a href="https://www.sciencebase.gov/catalog/item/58701618e4b01a71ba0c5fe6">U.S. Geological Survey</a>
        </div>
    </div>
    <!-- Mustache template, rendered later to show the details of a feature -->
    <script id="template" type="x-tmpl-mustache">
        <h3 class="six columns state-name">{{ NAME10 }}</h3>
        <table class="four columns">
            <tr>
                <th>Change 1974-2012:</th>
                <td>{{ pct_change_1974_to_2012 }}% </td>
            </tr>
            <tr>
                <th>2012:</th>
                <td>{{ _2012 }}% </td>
            </tr>
            <tr>
                <th>2002:</th>
                <td>{{ 2002 }}% </td>
            </tr>
            <tr>
                <th>1992:</th>
                <td>{{ 1992 }}% </td>
            </tr>
            <tr>
                <th>1982:</th>
                <td>{{ 1982 }}% </td>
            </tr>
            <tr>
                <th>1974:</th>
                <td>{{ 1974 }}% </td>
            </tr>
        </table>
        <a href="#" id="close-details" class="one column" onclick="hideDetails(); return false;">&#x2716;</a>
    </script>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="//d3js.org/colorbrewer.v1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js"></script>
    <script src="map.js"></script>
</body>

</html>